{"ast":null,"code":"'use strict';\n\nconst promiseMiddleware = store => next => action => {\n  if (isPromise(action.payload)) {\n    action.payload.then(res => {\n      action.payload = res;\n      store.dispatch(action);\n    }, error => {\n      action.error = true;\n      action.payload = error.response.body;\n      store.dispatch(action);\n    });\n    return;\n  }\n\n  next(action);\n};\n\nfunction isPromise(v) {\n  return v && typeof v.then === 'function';\n}\n\nexport { promiseMiddleware };","map":{"version":3,"sources":["C:\\Users\\18175158\\TCC\\exemplos\\estudo\\src\\middleware.js"],"names":["promiseMiddleware","store","next","action","isPromise","payload","then","res","dispatch","error","response","body","v"],"mappings":"AAAA;;AAIA,MAAMA,iBAAiB,GAAGC,KAAK,IAAIC,IAAI,IAAIC,MAAM,IAAI;AACjD,MAAIC,SAAS,CAACD,MAAM,CAACE,OAAR,CAAb,EAA8B;AAC1BF,IAAAA,MAAM,CAACE,OAAP,CAAeC,IAAf,CACIC,GAAG,IAAI;AACHJ,MAAAA,MAAM,CAACE,OAAP,GAAiBE,GAAjB;AACAN,MAAAA,KAAK,CAACO,QAAN,CAAeL,MAAf;AACH,KAJL,EAKIM,KAAK,IAAI;AACLN,MAAAA,MAAM,CAACM,KAAP,GAAe,IAAf;AACAN,MAAAA,MAAM,CAACE,OAAP,GAAiBI,KAAK,CAACC,QAAN,CAAeC,IAAhC;AACAV,MAAAA,KAAK,CAACO,QAAN,CAAeL,MAAf;AACH,KATL;AAYA;AACH;;AAEDD,EAAAA,IAAI,CAACC,MAAD,CAAJ;AACH,CAlBD;;AAoBA,SAASC,SAAT,CAAmBQ,CAAnB,EAAsB;AAClB,SAAOA,CAAC,IAAI,OAAOA,CAAC,CAACN,IAAT,KAAkB,UAA9B;AACH;;AAED,SACIN,iBADJ","sourcesContent":["'use strict';\r\n\r\n\r\n\r\nconst promiseMiddleware = store => next => action => {\r\n    if (isPromise(action.payload)){\r\n        action.payload.then(\r\n            res => {\r\n                action.payload = res;\r\n                store.dispatch(action);\r\n            },\r\n            error => {\r\n                action.error = true;\r\n                action.payload = error.response.body;\r\n                store.dispatch(action);\r\n            }\r\n        );\r\n\r\n        return;\r\n    }\r\n\r\n    next(action);\r\n};\r\n\r\nfunction isPromise(v) {\r\n    return v && typeof v.then === 'function';\r\n}\r\n\r\nexport {\r\n    promiseMiddleware\r\n};"]},"metadata":{},"sourceType":"module"}